<app-nav-bar></app-nav-bar>

<div class="container-fluid text-center jumbo">
</div>

<div class="container position-relative">
    <div class="row vh-100 justify-content-center align-items-center">
        <div class="col col-12 col-sm-12 col-md-6" style="margin-top: 25vh;">
            <div class="card w-100 bg-secondary bg-opacity-75 border rounded">
                <div class="container">
                    <!-- Titulo and icon -->
                    <div class="row m-2 ms-0">
                        <div class="col col-9">
                            <h4>Registrar producto</h4>
                        </div>
                        <div class="col col-3 text-end">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor"
                                class="bi bi-box2  text-primary" viewBox="0 0 16 16">
                                <path
                                    d="M2.95.4a1 1 0 0 1 .8-.4h8.5a1 1 0 0 1 .8.4l2.85 3.8a.5.5 0 0 1 .1.3V15a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4.5a.5.5 0 0 1 .1-.3L2.95.4ZM7.5 1H3.75L1.5 4h6V1Zm1 0v3h6l-2.25-3H8.5ZM15 5H1v10h14V5Z" />
                            </svg>
                        </div>
                    </div>

                    <!-- Img and change img -->
                    <div class="row justify-content-center">
                        <div class=" text-center">
                            <div>
                                <div *ngIf="!fileChange; else Conimagen">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="165" height="165" fill="currentColor"
                                        class="bi bi-person-circle border border-primary text-primary p-2 mb-1" viewBox="0 0 16 16">
                                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                        <path fill-rule="evenodd"
                                            d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" />
                                    </svg>
                                    <p>{{tipImage}}</p>
                                </div>
        
                                <ng-template #Conimagen>
                                    <div>
                                        <img [src]="preView" alt="" class="img-perfil">
                                    </div>
                                </ng-template>
                            </div>
                            <div class="row">
                                <div class="col text-center m-2">
                                    <input type="file" class="btn btn-primary rounded rounded-pill inpFile" name="" id="" (change)="capturarArchivo($event)">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Formulario -->
                    <div class="row mt-4">
                        <div class="col">   
                            <form class="row was-validated needs-validation" [formGroup]="formProducto" errorTailor novalidate>

                                <div class="row mt-2">
                                    <div class="col col-5">
                                        <label for="staticEmail2" class="mt-2">Código de producto</label>
                                    </div>
                                    <div class="col col-7">
                                        <input formControlName="fcodProd" type="text" class="form-control" maxlength="9"id="codigo" placeholder="{{codigo_producto}}"> 
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col col-5">
                                        <label for="staticEmail2" class="mt-2">Nombre de producto</label>
                                    </div>
                                    <div class="col col-7">
                                        <input formControlName="fname" type="text" class="form-control" id="nombre" placeholder="Nombre" required>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col col-5">
                                        <label for="staticEmail2" class="mt-2">Categoría</label>
                                    </div>
                                    <div class="col col-7">
                                        <select formControlName="fcategoria" class="form-select"
                                            aria-label="Default select example" required>
                                            <option selected><small>Selecciona una opción del menu</small></option>
                                            <option value="Carnes frias">Carnes frías</option>
                                            <option value="Lacteos">Lácteos</option>
                                            <option value="Botanas">Botanas</option>
                                            <option value="Farmacia">Farmacia</option>
                                            <option value="Limpieza del hogar">Limpieza del hogar</option>
                                            <option value="Enlatados">Enlatados</option>
                                            <option value="Frutas y verduras">Frutas y verduras</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col col-5">
                                        <label for="staticEmail2" class="mt-2">Cantidad</label>
                                    </div>
                                    <div class="col col-7">
                                        <input formControlName="fcantidad" type="number" class="form-control" id="cantidad" placeholder="00.00" required>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col col-5">
                                        <label for="staticEmail2" class="mt-2">Precio de compra</label>
                                    </div>
                                    <div class="col col-7">
                                        <input formControlName="fpCompra" type="number" class="form-control" id="precioCompra"
                                            placeholder="$00.00" step="0.001" required>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col col-5">
                                        <label for="staticEmail2" class="mt-2">Precio de venta</label>
                                    </div>
                                    <div class="col col-7">
                                        <input formControlName="fpVenta" step="0.001" type="number" class="form-control" id="precioVenta" placeholder="$00.00" required>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col col-5">
                                        <label for="staticEmail2" class="mt-2">Precio con descuento</label>
                                    </div>
                                    <div class="col col-7">
                                        <input formControlName="fpDesc" type="number" class="form-control" id="precioDescuento"
                                            placeholder="$00.00" step="0.001" required>
                                    </div>
                                </div>

                                <div class="row mt-2">
                                    <div class="col col-5">
                                        <label for="staticEmail2" class="mt-2">Descripción</label>
                                    </div>
                                    <div class="col col-7">
                                        <textarea formControlName="fDescription" class="form-control" id="exampleFormControlTextarea1"
                                            rows="3" required></textarea>
                                    </div>
                                </div>
                                <!-- Botones -->
                                <div class="row m-3">
                                    <div class="col text-center">
                                        <button type="submit" class="btn btn-success rounded rounded-pill" (click)="load()">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                fill="currentColor" class="bi bi-check2" viewBox="0 0 16 16">
                                                <path
                                                    d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
                                            </svg>
                                            Aceptar
                                        </button>
                                    </div>
                                    <div class="col text-center">
                                        <button type="button" class="btn btn-danger rounded rounded-pill" (click)="cancel()">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                                <path
                                                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                            </svg>
                                            Cancelar
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>